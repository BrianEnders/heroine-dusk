var mapdata = '{"maps":[{"enemies":[],"events":[[-1,-1,-1],[-1,6,-1],[0,-1,-1],[-1,-1,-1]],"name":"Serf Quarters","music":"m31","width":3,"height":4,"background":2,"start_script":44,"tiles":[[2,2,2],[2,17,2],[3,5,2],[2,2,2]]},{"enemies":[0,1],"events":[[-1,-1,-1,-1,3,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,2,-1,-1,-1,-1,-1,1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,4,-1,-1,-1,-1]],"name":"Gar\'ashi Monastery","music":"m31","width":9,"height":11,"background":1,"tiles":[[0,0,2,2,3,2,2,0,0],[0,0,2,4,1,4,2,0,0],[2,2,2,1,1,1,2,2,2],[2,6,6,4,1,4,6,6,2],[2,6,6,1,1,1,6,6,2],[2,2,6,4,1,4,6,2,2],[2,3,1,1,1,1,1,3,2],[2,2,6,4,1,4,6,2,2],[2,6,6,1,1,1,6,6,2],[2,6,6,4,1,4,6,6,2],[2,2,2,2,3,2,2,2,2]]},{"enemies":[],"events":[[-1,-1,-1],[-1,7,-1],[-1,-1,5],[-1,-1,-1]],"name":"Monk Quarters","music":"m31","width":3,"height":4,"background":0,"tiles":[[2,2,2],[2,8,2],[2,5,3],[2,2,2]]},{"enemies":[],"events":[[-1,-1,-1,-1,-1],[-1,-1,22,-1,-1],[-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1],[-1,-1,8,-1,-1]],"name":"Meditation Point","music":"m31","width":5,"height":6,"background":2,"tiles":[[0,0,0,0,0],[0,0,9,0,0],[0,7,5,7,0],[0,5,5,5,0],[0,7,5,7,0],[2,2,3,2,2]]},{"enemies":[0,1,2],"events":[[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,9,-1,-1,-1,-1,-1,-1,-1],[-1,-1,23,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,39,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,-1,-1,-1]],"name":"Monastery Trail","music":"m31","width":14,"height":16,"background":1,"tiles":[[0,12,12,2,0,0,0,0,0,2,12,0,0,0],[12,12,12,2,2,2,3,2,2,2,12,0,0,0],[12,12,9,6,12,6,1,6,6,12,12,12,0,0],[12,12,12,6,6,6,1,12,6,6,12,12,0,0],[0,12,12,12,12,6,1,6,6,12,12,12,0,0],[0,0,12,12,12,12,6,6,12,12,12,12,0,0],[0,0,0,12,12,6,6,6,6,12,12,12,12,0],[0,0,12,12,12,6,6,12,6,6,6,12,12,0],[0,12,12,12,6,6,12,12,12,6,12,12,12,0],[0,12,12,6,6,6,12,12,6,6,6,12,12,0],[0,12,12,12,6,6,6,6,6,6,12,12,12,0],[0,0,12,12,6,6,6,12,6,6,6,12,12,12],[0,0,12,12,12,6,12,12,12,6,1,6,12,12],[0,0,0,12,10,11,12,12,12,12,1,6,12,12],[0,0,0,0,12,12,12,12,12,6,1,6,12,12],[0,0,0,0,0,0,0,12,12,2,3,2,12,12]]},{"enemies":[],"events":[[-1,-1,-1,11,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,41,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,43,-1,-1,-1,-1,42,-1,40,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,24,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,12,-1,-1]],"name":"Cedar Village","music":"haply","width":12,"height":12,"background":1,"tiles":[[2,2,2,3,2,2,2,2,0,0,0,0],[2,6,12,1,12,6,6,2,0,0,0,0],[2,6,6,1,6,6,12,2,0,0,0,0],[2,12,6,1,6,10,10,2,2,2,2,2],[2,10,10,1,10,10,11,10,10,1,10,2],[2,10,10,1,10,1,1,1,10,1,10,2],[2,1,1,1,1,1,12,1,1,1,1,2],[2,10,6,10,10,1,1,1,10,1,10,2],[2,11,6,10,10,10,11,10,11,1,10,2],[2,10,6,10,10,10,10,10,10,1,6,2],[2,12,6,6,6,6,6,9,12,1,12,2],[2,2,2,2,2,2,2,2,2,3,2,2]]},{"enemies":[1,2,3],"events":[[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,13,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,25,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,14,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,15,-1,-1,-1,-1,-1,-1,-1]],"name":"Zuruth Plains","music":"m31","width":16,"height":16,"background":2,"tiles":[[0,0,0,0,0,0,2,12,12,12,12,12,12,15,15,15],[0,0,0,0,0,0,2,12,12,12,12,12,12,15,15,15],[2,2,2,2,3,2,2,6,6,6,6,6,6,15,15,15],[12,12,12,6,1,6,6,6,7,5,7,6,6,15,15,15],[12,12,6,6,1,6,12,6,5,8,5,6,6,15,15,15],[12,12,6,12,1,6,6,6,7,5,7,6,6,15,15,15],[12,12,6,6,1,6,6,6,6,6,6,6,4,15,15,15],[12,12,6,6,1,1,1,1,1,1,1,1,1,1,1,1],[12,12,12,6,6,6,6,6,1,6,6,6,4,15,15,15],[12,12,6,6,6,6,12,6,1,6,12,6,6,15,15,15],[12,12,6,6,6,12,6,6,1,6,6,6,6,15,15,15],[12,12,12,6,6,6,6,12,1,6,6,6,12,15,15,15],[12,12,6,6,6,6,6,6,1,6,6,6,6,15,15,15],[12,7,5,7,5,7,5,7,5,7,5,7,6,4,15,4],[12,2,5,5,5,2,5,5,5,5,5,2,6,15,9,15],[2,2,2,2,2,2,2,2,3,2,2,2,2,2,2,2]]},{"enemies":[2,3,4],"events":[[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,16,-1,-1,-1,-1,-1,-1,-1,-1,17,-1,-1,26,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]],"name":"Canal Boneyard","music":"m31","width":15,"height":11,"background":2,"tiles":[[0,15,15,15,2,2,2,2,2,2,2,2,2,2,2],[0,15,15,15,12,6,6,6,6,6,14,14,13,14,2],[0,15,15,15,13,6,14,1,14,6,13,13,14,13,2],[6,15,15,15,6,6,14,1,13,6,6,6,6,6,2],[4,15,15,15,4,6,13,1,14,6,2,2,2,5,2],[1,1,1,1,1,1,1,1,1,1,3,2,2,8,2],[4,15,15,15,4,6,14,1,13,6,2,2,2,5,2],[6,15,15,15,6,6,13,1,14,6,6,6,6,6,2],[0,15,15,15,13,6,14,1,13,6,14,13,13,14,2],[0,15,15,15,12,6,6,6,6,6,14,13,14,13,2],[0,15,15,15,2,2,2,2,2,2,2,2,2,2,2]]},{"enemies":[3,4,5],"events":[[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,27,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[18,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,19],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,29,-1,-1,-1,-1,6,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,28,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]],"name":"Mausoleum","music":"elegy_dm","width":16,"height":15,"background":2,"tiles":[[0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2],[0,0,2,2,2,7,5,5,5,5,5,5,7,15,15,2],[0,0,2,8,16,5,5,5,15,15,5,5,5,5,15,2],[0,0,2,2,2,2,2,5,2,2,5,2,2,5,2,2],[0,0,0,0,0,2,2,5,2,2,5,2,7,5,2,0],[2,2,2,2,2,2,5,5,5,5,5,16,2,5,2,0],[2,5,7,5,2,2,5,6,6,6,6,5,2,5,7,2],[3,5,5,5,16,5,5,6,6,6,6,5,5,16,5,3],[2,5,7,5,2,2,5,6,6,6,6,5,2,5,7,2],[2,2,2,2,2,2,8,5,5,5,5,17,2,5,2,0],[0,0,0,0,0,2,2,5,2,2,5,2,7,5,2,0],[0,0,2,2,2,2,2,5,2,2,5,2,2,5,2,2],[0,0,2,8,18,5,5,5,15,15,5,5,5,5,15,2],[0,0,2,2,2,7,5,5,5,5,5,5,7,15,15,2],[0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2]]},{"enemies":[3,4,5,5],"events":[[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[20,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,38,-1,-1,-1,-1,-1,-1,-1,-1]],"name":"Dead Walkways","music":"elegy_dm","width":13,"height":10,"background":2,"tiles":[[0,0,0,0,0,0,1,0,0,1,0,0,0],[0,0,0,0,0,0,1,2,2,1,0,0,0],[0,4,0,0,4,0,1,5,16,1,0,4,0],[0,0,0,1,0,0,1,2,2,1,0,0,0],[2,0,0,1,2,2,1,0,0,1,13,14,13],[3,1,1,1,5,16,1,0,0,1,6,19,14],[2,0,0,1,2,2,1,0,0,1,14,13,14],[0,0,0,1,0,0,1,0,0,0,0,0,0],[0,4,0,0,0,0,1,0,0,0,0,4,0],[0,0,0,0,9,1,1,1,1,0,0,0,0]]},{"enemies":[3,4,5],"events":[[-1,-1,21,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,30,-1,31,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,38,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,47,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,46,-1,-1,38,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,45,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]],"name":"Trade Tunnel","music":"kawarayu","width":16,"height":16,"background":2,"tiles":[[2,2,3,2,2,2,2,2,2,0,0,0,0,0,0,0],[2,5,5,5,2,5,5,5,2,0,2,2,2,2,2,0],[2,5,5,5,16,5,15,5,2,0,2,8,2,8,2,0],[2,5,5,5,2,5,15,5,2,2,2,18,2,18,2,0],[2,2,16,2,2,5,9,5,5,5,5,5,5,5,2,0],[2,5,5,5,2,5,15,5,2,2,2,2,2,2,2,0],[2,5,5,5,2,5,15,5,2,0,0,0,0,0,0,0],[2,5,5,5,2,5,1,5,2,0,0,2,2,3,2,2],[2,7,5,5,2,5,15,5,2,0,0,2,5,5,5,2],[2,5,5,5,2,5,15,5,2,0,0,3,5,5,8,2],[2,5,5,5,5,5,1,5,2,0,0,2,5,5,5,2],[2,5,5,5,2,5,15,5,2,2,2,2,2,5,2,2],[2,2,5,2,2,5,15,5,5,5,5,5,5,5,5,2],[2,7,5,7,2,5,15,15,1,15,15,1,15,15,5,2],[2,2,5,2,2,5,5,5,5,5,5,5,5,5,5,2],[2,2,3,2,2,2,2,2,2,2,2,2,2,2,2,2]]}]}';
var eventdatam = '{\"event\":[{\"type\":0,\"commands\":[\"change_pos(1,6,6)\"]},{\"type\":0,\"commands\":[\"change_pos(0,1,2)\"]},{\"type\":0,\"commands\":[\"change_pos(2,1,2)\"]},{\"type\":0,\"commands\":[\"change_pos(3,2,4)\"]},{\"type\":0,\"commands\":[\"change_pos(4,6,2)\"]},{\"type\":0,\"commands\":[\"change_pos(1,2,6)\"]},{\"type\":1,\"commands\":[\"display_message(\\\"You rest for awhile.\\\")\",\"set_respawn()\",\"play_sound(SFX_COIN)\"]},{\"type\":1,\"commands\":[\"flag_check(\\\"stick\\\" -1)\",\"set_weapon(1)\",\"found_item(\\\"Wood Stick\\\", 1, 10)\",\"change_flag(\\\"stick\\\", true)\",\"change_tile(2, 1, 1, 5)\"]},{\"type\":0,\"commands\":[\"change_pos(1,4,1)\"]},{\"type\":0,\"commands\":[\"change_pos(1,4,9)\"]},{\"type\":0,\"commands\":[\"change_pos(5,3,1)\"]},{\"type\":0,\"commands\":[\"change_pos(4,10,14)\"]},{\"type\":0,\"commands\":[\"change_pos(6,4,3)\"]},{\"type\":0,\"commands\":[\"change_pos(5,9,10)\"]},{\"type\":0,\"commands\":[\"change_pos(7,2,5)\"]},{\"type\":0,\"commands\":[\"change_pos(10,2,1)\"]},{\"type\":0,\"commands\":[\"change_pos(6,13,7)\"]},{\"type\":0,\"commands\":[\"change_pos(8,1,7)\"]},{\"type\":0,\"commands\":[\"change_pos(7,9,5)\"]},{\"type\":0,\"commands\":[\"change_pos(9,1,5)\"]},{\"type\":0,\"commands\":[\"change_pos(8,14,7)\"]},{\"type\":0,\"commands\":[\"change_pos(6,8,14)\"]},{\"type\":1,\"commands\":[\"flag_check(\\\"heal\\\", -1)\",\"add_action(1)\",\"found_item(\\\"Spellbook: Heal\\\", 1, 11)\",\"change_flag(\\\"heal\\\", true)\",\"change_tile(3, 2, 1, 1)\"]},{\"type\":1,\"commands\":[\"flag_check(\\\"hp1\\\", -1)\",\"change_attribute(\\\"MAXHP\\\", 5)\",\"found_item(\\\"Magic Emerald (HP Up)\\\", 1, 13)\",\"change_flag(\\\"hp1\\\", true)\",\"change_tile(4, 2, 4, 1)\"]},{\"type\":1,\"commands\":[\"flag_check(\\\"g1\\\", -1)\",\"found_item(\\\"Gold\\\", 10)\",\"change_flag(\\\"g1\\\", true)\",\"change_tile(5, 7, 10, 1)\"]},{\"type\":1,\"commands\":[\"flag_check(\\\"mp1\\\", -1)\",\"change_attribute(\\\"MAXMP\\\", 2)\",\"found_item(\\\"Magic Sapphire (MP Up)\\\", 1, 12)\",\"change_flag(\\\"mp1\\\", true)\",\"change_tile(6, 9, 4, 5)\"]},{\"type\":1,\"commands\":[\"flag_check(\\\"def1\\\", -1)\",\"change_attribute(\\\"DEF\\\", 1)\",\"found_item(\\\"Magic Diamond (Def Up)\\\", 1, 15)\",\"change_flag(\\\"def1\\\", true)\",\"change_tile(7, 13, 5, 5)\"]},{\"type\":1,\"commands\":[\"flag_check(\\\"atk1\\\", -1)\",\"change_attribute(\\\"ATK\\\", 1)\",\"found_item(\\\"Magic Ruby (Atk Up)\\\", 1, 14)\",\"change_flag(\\\"atk1\\\", true)\",\"change_tile(8, 3, 2, 5)\"]},{\"type\":1,\"commands\":[\"flag_check(\\\"mp2\\\", -1)\",\"change_attribute(\\\"MAXMP\\\", 2)\",\"found_item(\\\"Magic Sapphire (MP Up)\\\", 1, 12)\",\"change_flag(\\\"mp2\\\", true)\",\"change_tile(8, 3, 12, 5)\"]},{\"type\":1,\"commands\":[\"flag_check(\\\"g2\\\", -1)\",\"found_item(\\\"Gold\\\", 25)\",\"change_flag(\\\"g2\\\", true)\",\"change_tile(8, 6, 9, 5)\"]},{\"type\":1,\"commands\":[\"flag_check(\\\"hp2\\\", -1)\",\"change_attribute(\\\"MAXHP\\\", 5)\",\"found_item(\\\"Magic Emerald (HP Up)\\\", 1, 13)\",\"change_flag(\\\"hp2\\\", true)\",\"change_tile(10, 11, 2, 5)\"]},{\"type\":1,\"commands\":[\"flag_check(\\\"g3\\\", -1)\",\"found_item(\\\"Gold\\\", 100)\",\"change_flag(\\\"g3\\\", true)\",\"change_tile(10, 13, 2, 5)\"]},{\"type\":1,\"commands\":[\"forward_tile_check(16, 33)\",\"display_message(\\\"No Effect.\\\")\"]},{\"type\":1,\"commands\":[\"change_forward_tile(5)\",\"display_message(\\\"Cleared Path!\\\")\",\"change_attribute(\\\"MP\\\", -1)\"]},{\"type\":1,\"commands\":[\"forward_tile_check(18, 35)\",\"display_message(\\\"No Effect.\\\")\"]},{\"type\":1,\"commands\":[\"change_forward_tile(5)\",\"display_message(\\\"Door Unlocked!\\\")\",\"change_attribute(\\\"MP\\\", -1)\"]},{\"type\":1,\"commands\":[\"flag_check(\\\"dspeak\\\", -1)\",\"battle_enemy_vicscript(ENEMY_DEATH_SPEAKER, 37)\"]},{\"type\":1,\"commands\":[\"change_flag(\\\"dspeak\\\", true)\",\"change_tile(9, 11, 5, 6)\"]},{\"type\":1,\"commands\":[\"battle_enemy(ENEMY_MIMIC)\"]},{\"type\":0,\"commands\":[\"setup_npc(\\\"Woodsman\\\", 3, [{type:NPC_MESSAGE, msg1:\\\"I\'m staying right here\\\", msg2:\\\"until the sun comes back.\\\"}])\"]},{\"type\":0,\"commands\":[\"setup_npc(\\\"The Pilgrim Inn\\\", 3, [{type:NPC_MESSAGE, msg1:\\\"We saw dead walking\\\", msg2:\\\"from the Canal Boneyard.\\\"},{type:NPC_REST, cost:10}])\"]},{\"type\":0,\"commands\":[\"setup_npc(\\\"Cedar Arms\\\", 3, [{type:SHOP_WEAPON, value:2},{type:SHOP_WEAPON, value:3}])\"]},{\"type\":0,\"commands\":[\"setup_npc(\\\"Simmons Fine Clothier\\\", 3, [{type:SHOP_ARMOR, value:2},{type:SHOP_ARMOR, value:3}])\"]},{\"type\":0,\"commands\":[\"setup_npc(\\\"Sage Therel\\\", 3, [{type:NPC_MESSAGE, msg1:\\\"Fire magic is effective\\\", msg2:\\\"against undead and bone.\\\"},{type:SHOP_ACTION, value:2}])\"]},{\"type\":2,\"commands\":[\"flag_check(\\\"wake\\\", -1)\",\"change_flag(\\\"wake\\\", true)\",\"play_music(\\\"m31\\\")\",\"setup_npc(\\\"A Nightmare\\\", 2, [{type:NPC_MESSAGE, msg1:\\\"Darkness has overtaken\\\", msg2:\\\"the human realm.\\\"},{type:NPC_MESSAGE, msg1:\\\"The monastery is no\\\", msg2:\\\"longer safe.\\\"},{type:NPC_EXIT, msg1:\\\"Wake up!\\\"}])\"]},{\"type\":0,\"commands\":[\"setup_npc(\\\"Stonegate Entrance\\\", 3, [{type:NPC_MESSAGE, msg1:\\\"No one allowed in or\\\", msg2:\\\"out of the city.\\\"},{type:NPC_MESSAGE, msg1:\\\"(The demo ends here.\\\", msg2:\\\"Thanks for playing!)\\\"}])\"]},{\"type\":0,\"commands\":[\"setup_npc(\\\"Thomas the Fence\\\", 3, [{type:NPC_MESSAGE, msg1:\\\"Unlock magic opens doors\\\", msg2:\\\"and harms automatons.\\\"},{type:SHOP_ACTION, value:3}])\"]},{\"type\":0,\"commands\":[\"setup_npc(\\\"Thomas the Fence\\\", 3, [{type:NPC_MESSAGE, msg1:\\\"For a small fee we can\\\", msg2:\\\"grant you safe passage\\\"},{type:NPC_MESSAGE, msg1:\\\"into Stonegate City.\\\", msg2:\\\"(Buy the full version!)\\\"}])\"]}]}';

var eventdata = JSON.parse(eventdatam);
var atlas = JSON.parse(mapdata);